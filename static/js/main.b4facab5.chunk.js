(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{43:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(2),a=c.n(r),o=c(15),s=c.n(o),i=(c(43),c(11)),u=c.n(i),l=c(16),j=c(33),d=c(34),b=c(37),O=c(36),x=c(86),h=c(87),p=c(7),f=c(79),m=c(80),g=c(81),v=c(88),C=c(82),k=c(83),N=c(84),y=c(18),S=a.a.createContext(),q=function(e){var t=Object(r.useState)([]),c=Object(p.a)(t,2),a=c[0],o=c[1];return Object(n.jsx)(S.Provider,{value:[a,o],children:e.children})};var L=function(){var e=Object(r.useContext)(S),t=Object(p.a)(e,2),c=(t[0],t[1]),a=Object(y.useGoogleLogin)({onSuccess:function(e){console.log("Login Success: currentUser:",e.profileObj),function(e){var t=1e3*(e.tokenObj.expires_in||3300),c=function(){var n=Object(l.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.reloadAuthResponse();case 2:r=n.sent,t=1e3*(r.expires_in||3300),console.log("newAuthRes:",r),localStorage.setItem("authToken",r.id_token),setTimeout(c,t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();setTimeout(c,t)}(e),c([e.profileObj].splice())},onFailure:function(e){console.log("Login failed: res:",e)},clientId:"1036837016251-dvqb16dmo47obs19s1cpoo2kai7qg04t.apps.googleusercontent.com",isSignedIn:!0,accessType:"offline"}).signIn;return Object(n.jsxs)("button",{onClick:a,className:"button",children:[Object(n.jsx)("img",{src:"icons/google.svg",alt:"google login",className:"icon"}),Object(n.jsx)("span",{className:"buttonText",children:"Sign in"})]})};var w=function(){var e=Object(r.useContext)(S),t=Object(p.a)(e,2),c=(t[0],t[1]),a=Object(y.useGoogleLogout)({clientId:"1036837016251-dvqb16dmo47obs19s1cpoo2kai7qg04t.apps.googleusercontent.com",onLogoutSuccess:function(e){console.log("Logged out Success"),c([!1].splice())},onFailure:function(){console.log("Handle failure cases")}}).signOut;return Object(n.jsxs)("button",{onClick:a,className:"button",children:[Object(n.jsx)("img",{src:"icons/google.svg",alt:"google login",className:"icon"}),Object(n.jsx)("span",{className:"buttonText",children:"Sign out"})]})},F=c(12),I=c(73),T=c(74),A=c(75),P=c(76),B=c(77),M=c(78),G=a.a.createContext(),H=function(e){var t=Object(r.useState)([]),c=Object(p.a)(t,2),a=c[0],o=c[1];return Object(n.jsx)(G.Provider,{value:[a,o],children:e.children})},R=function(){var e=Object(r.useContext)(G),t=Object(p.a)(e,2),c=t[0],a=(t[1],c.reduce((function(e,t){return e+parseFloat(t.price.replace("$","")*t.quantity)}),0)),o=c.reduce((function(e,t){return e+t.quantity}),0);return Object(n.jsx)(I.a,{className:"mb-4",children:Object(n.jsx)(T.a,{children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(B.a,{tag:"h5",children:"Cart Summary"})}),Object(n.jsx)(P.a,{className:"text-center",children:Object(n.jsxs)("h6",{children:["items in cart: ",o]})}),Object(n.jsx)(P.a,{className:"text-center",children:Object(n.jsxs)("h6",{children:["total price: ",a.toFixed(2)]})})]})})})},W=function(){var e=Object(r.useContext)(G),t=Object(p.a)(e,2),c=t[0],a=t[1],o=c.map((function(e,t){return Object(n.jsxs)(A.a,{children:[Object(n.jsx)(P.a,{children:e.name}),Object(n.jsx)(P.a,{children:e.price}),Object(n.jsxs)(P.a,{children:[e.quantity,Object(n.jsxs)("span",{className:"add ",onClick:function(){return function(e){var t=c.find((function(t){return t.code===e}));t.quantity++,a([].concat(Object(F.a)(c.filter((function(t){return t.code!==e}))),[t]).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})))}(e.code)},children:[" ",Object(n.jsx)("i",{className:"fa fa-plus"})," "]}),Object(n.jsxs)("span",{className:"subtract",onClick:function(){return function(e){var t=c.find((function(t){return t.code===e}));t.quantity>0&&t.quantity--,a([].concat(Object(F.a)(c.filter((function(t){return t.code!==e}))),[t]).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})))}(e.code)},children:[" ",Object(n.jsx)("i",{className:"fa fa-minus"})," "]}),Object(n.jsxs)("span",{className:"remove",onClick:function(){return t=e.code,void a(c.filter((function(e){return e.code!==t})));var t},children:[" ",Object(n.jsx)("i",{className:"fa fa-times"})," "]})]}),Object(n.jsx)(P.a,{children:(parseFloat(e.price.replace("$",""))*e.quantity).toFixed(2)})]},t+e.code)})),s=c.length?Object(n.jsx)(M.a,{className:"w-100 mt-4",color:"primary",onClick:function(){return console.log("Checkout")},children:"Check Out"}):"";return Object(n.jsx)(I.a,{children:Object(n.jsxs)(T.a,{children:[Object(n.jsx)(B.a,{children:"Shopping Cart"}),o,s,";"]})})},_=function(e){var t=Object(r.useState)(!1),c=Object(p.a)(t,2),a=c[0],o=c[1];return Object(n.jsx)("div",{children:Object(n.jsxs)(f.a,{color:"secondary",dark:!0,expand:"md",children:[Object(n.jsx)(m.a,{href:"/",children:"Meijer"}),Object(n.jsx)(g.a,{onClick:function(){return o(!a)}}),Object(n.jsx)(v.a,{isOpen:a,navbar:!0,children:Object(n.jsxs)(C.a,{className:"ml-auto",navbar:!0,children:[Object(n.jsx)(k.a,{children:Object(n.jsx)(N.a,{onClick:function(){return document.querySelector(".cart").classList.toggle("d-none"),void document.querySelector(".shop").classList.toggle("d-none")},children:"Cart"})}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(L,{}),Object(n.jsx)(w,{})]})]})})]})})},z=c(85),D=function(e){var t=Object(r.useContext)(G),c=Object(p.a)(t,2),a=c[0],o=c[1];return Object(n.jsx)(P.a,{className:e.colWidth,children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(z.a,{top:!0,width:"100%",src:e.product.image,alt:"Card image cap"}),Object(n.jsxs)(T.a,{className:"text-center",children:[Object(n.jsx)(B.a,{tag:"h5",children:e.product.name}),Object(n.jsxs)("div",{children:["Price: ",e.product.price]}),Object(n.jsxs)("div",{className:"mb-3",children:["Code: ",e.product.code]}),Object(n.jsx)(M.a,{className:"w-100",color:"primary",onClick:function(){var t=a.find((function(t){return t.code===e.product.code})),c={code:e.product.code,name:e.product.name,price:e.product.price,quantity:t?t.quantity+1:1};o(t?[].concat(Object(F.a)(a.filter((function(e){return e.code!==t.code}))),[c]).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})):function(e){return[].concat(Object(F.a)(e),[c]).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))})},children:"Add to Cart"})]})]})},e.product.code)},E=function(e){for(var t=e.products,c=[],r=null,a="col-lg-".concat(4),o=0;o<t.length;o+=3)r=t.slice(o,o+3),c.push(Object(n.jsx)(A.a,{className:"mb-4",children:r.map((function(e){return Object(n.jsx)(D,{product:e,colWidth:a},e.code)}))},o));return c},J=c(35),U=c.n(J).a.create({baseURL:"https://meijerdigital.azurewebsites.net/api",headers:{"x-functions-key":"VockV3fu1c7vBvaG7A4oMALa9WIrPekx8jeH5HeBzuxir2X6NcAE5w=="}}),V=function(e){Object(b.a)(c,e);var t=Object(O.a)(c);function c(){var e;Object(j.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={products:[]},e.onLoadStore=Object(l.a)(u.a.mark((function t(){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.get("/products",{});case 2:c=t.sent,e.setState({products:c.data});case 4:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(c,[{key:"componentDidMount",value:function(){this.onLoadStore()}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(x.a,{children:Object(n.jsx)(q,{children:Object(n.jsx)(H,{children:Object(n.jsxs)(h.a,{children:[Object(n.jsx)(_,{}),Object(n.jsx)(R,{}),Object(n.jsx)("div",{className:"shop",children:Object(n.jsx)(E,{products:this.state.products})}),Object(n.jsx)("div",{className:"cart d-none",children:Object(n.jsx)(W,{})})]})})})})})}}]),c}(r.Component),$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,89)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),a(e),o(e)}))};c(71);s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root")),$()}},[[72,1,2]]]);
//# sourceMappingURL=main.b4facab5.chunk.js.map